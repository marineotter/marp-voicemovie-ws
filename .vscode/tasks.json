{
	"version": "2.0.0",
	"tasks": [
		{
			"label": "Marp Note to Voice",
			"type": "shell",
			"command": "python3",
			"args": [
				"/scripts/marp_note_to_voice.py",
				"${file}",
				"--output-dir",
				"${workspaceFolder}/dist",
				"--speaker-id",
				"2" // 四国めたん
			],
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "Marp Page to Images",
			"type": "shell",
			"command": "npx",
			"args": [
				"-y",
				"@marp-team/marp-cli@latest",
				"--allow-local-files",
				"--images",
				"png",
				"--image-scale",
				"2",
				"-o",
				"${workspaceFolder}/dist/page.png",
				"${file}"
			],
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "Convert to Movie",
			"type": "shell",
			"command": "python3",
			"args": [
				"/scripts/convert_to_movie.py",
				"${workspaceFolder}/dist",
				"--output",
				"${workspaceFolder}/dist/presentation.mp4",
				"--pause-before",
				"0.75",
				"--pause-after",
				"0.75",
			],
			"isBackground": false,
			"problemMatcher": [],
			"dependsOn": ["Generate Voice + Images"]
		},
		{
			"label": "Generate Voice + Images",
			"dependsOrder": "parallel",
			"dependsOn": ["Marp Note to Voice", "Marp Page to Images"]
		},
		{
			"label": "Generate Movie (Build All)",
			"dependsOrder": "sequence",
			"dependsOn": ["Generate Voice + Images", "Convert to Movie"],
			"group": {
				"kind": "build",
				"isDefault": true
			}
		}
	]
}